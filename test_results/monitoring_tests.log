=== RUN   TestNewService
[] INFO [monitoring] INFO: Health checkers registered
[] DEBUG [monitoring] DEBUG: Skipping chain health checker registration (not a *chain.Chain)
[] INFO [monitoring] INFO: Health checkers registered
[] INFO [monitoring] INFO: Starting background monitoring
--- PASS: TestNewService (0.00s)
=== RUN   TestServiceStartStop
[] INFO [monitoring] INFO: Health checkers registered
[] INFO [monitoring] INFO: Starting monitoring service
[] INFO [monitoring] INFO: Starting background monitoring
[] INFO [monitoring] INFO: Starting background monitoring
[] INFO [monitoring] INFO: Metrics server started on port 9090
[] INFO [monitoring] INFO: Health server started on port 8080
[] INFO [monitoring] INFO: Monitoring service started successfully
[] INFO [monitoring] INFO: Stopping monitoring service
[] INFO [monitoring] INFO: Background monitoring stopped
[] INFO [monitoring] INFO: Monitoring service stopped
--- PASS: TestServiceStartStop (0.21s)
=== RUN   TestHealthCheckersRegistration
[] INFO [monitoring] INFO: Health checkers registered
--- PASS: TestHealthCheckersRegistration (0.00s)
=== RUN   TestHealthCheckResults
[] INFO [monitoring] INFO: Starting background monitoring
[] INFO [monitoring] INFO: Health checkers registered
[] INFO [monitoring] INFO: Starting background monitoring
--- PASS: TestHealthCheckResults (0.00s)
=== RUN   TestMetricsCollection
[] INFO [monitoring] INFO: Health checkers registered
[] INFO [monitoring] INFO: Starting monitoring service
[] INFO [monitoring] INFO: Metrics server started on port 9090
[] INFO [monitoring] INFO: Health server started on port 8080
[] INFO [monitoring] INFO: Monitoring service started successfully
[] INFO [monitoring] INFO: Starting background monitoring
[] INFO [monitoring] INFO: Stopping monitoring service
[] INFO [monitoring] INFO: Background monitoring stopped
[] INFO [monitoring] INFO: Monitoring service stopped
--- PASS: TestMetricsCollection (0.10s)
=== RUN   TestHealthEndpointResponse
[] INFO [monitoring] INFO: Health checkers registered
[] INFO [monitoring] INFO: Starting background monitoring
--- PASS: TestHealthEndpointResponse (0.00s)
=== RUN   TestMetricsEndpointResponse
[] INFO [monitoring] INFO: Health checkers registered
[] INFO [monitoring] INFO: Starting background monitoring
--- PASS: TestMetricsEndpointResponse (0.00s)
=== RUN   TestPrometheusEndpointResponse
[] INFO [monitoring] INFO: Health checkers registered
[] INFO [monitoring] INFO: Starting background monitoring
--- PASS: TestPrometheusEndpointResponse (0.00s)
=== RUN   TestServiceLogging
[] INFO [monitoring] INFO: Health checkers registered
[] INFO [monitoring] INFO: Test info message
[] ERROR [monitoring] ERROR: Test error message
[] INFO [monitoring] INFO: Starting background monitoring
[] WARN [monitoring] WARN: Test warning message
--- PASS: TestServiceLogging (0.00s)
=== RUN   TestServiceContextCancellation
[] INFO [monitoring] INFO: Health checkers registered
[] INFO [monitoring] INFO: Starting monitoring service
[] INFO [monitoring] INFO: Starting background monitoring
[] INFO [monitoring] INFO: Metrics server started on port 9090
[] INFO [monitoring] INFO: Health server started on port 8080
[] INFO [monitoring] INFO: Monitoring service started successfully
[] INFO [monitoring] INFO: Stopping monitoring service
[] INFO [monitoring] INFO: Background monitoring stopped
[] INFO [monitoring] INFO: Monitoring service stopped
--- PASS: TestServiceContextCancellation (0.20s)
=== RUN   TestMetricsReset
[] INFO [monitoring] INFO: Health checkers registered
[] INFO [monitoring] INFO: Starting monitoring service
[] INFO [monitoring] INFO: Starting background monitoring
[] INFO [monitoring] INFO: Metrics server started on port 9090
[] INFO [monitoring] INFO: Health server started on port 8080
[] INFO [monitoring] INFO: Monitoring service started successfully
[] INFO [monitoring] INFO: Stopping monitoring service
[] INFO [monitoring] INFO: Background monitoring stopped
[] INFO [monitoring] INFO: Monitoring service stopped
--- PASS: TestMetricsReset (0.10s)
PASS
coverage: 76.9% of statements
ok  	github.com/gochain/gochain/pkg/monitoring	1.664s	coverage: 76.9% of statements
